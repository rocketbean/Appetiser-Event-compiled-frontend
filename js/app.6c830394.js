(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={0:0},o=[];function s(t){return i.p+"js/"+({}[t]||t)+"."+{2:"05fcee0d",3:"69baa341",4:"e84ed9a4"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,1]),n()})({0:function(t,e,n){t.exports=n("2f39")},"0047":function(t,e,n){},"2f39":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"activeEvent",(function(){return _})),n.d(a,"events",(function(){return D}));var r={};n.r(r),n.d(r,"activeEvent_",(function(){return x})),n.d(r,"events_",(function(){return q})),n.d(r,"pushEvents_",(function(){return E}));var o={};n.r(o),n.d(o,"_activeEvent",(function(){return S})),n.d(o,"_events",(function(){return O})),n.d(o,"_pushEvents",(function(){return j}));n("5319");var s=n("c973"),i=n.n(s),c=(n("7d6e"),n("e54f"),n("985d"),n("5b0d"),n("0047"),n("2b0e")),l=n("1f91"),u=n("42d2"),d=n("b178");c["a"].use(d["a"],{config:{},lang:l["a"],iconSet:u["a"]});var p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},f=[],v={name:"App"},m=v,h=n("2877"),y=Object(h["a"])(m,p,f,!1,null,null,null),g=y.exports,b=n("2f62"),w=function(){return{activeEvent:{name:"",from:"2019/02/01",to:"2019/02/30",data:[],onDays:[]},events:[]}};const _=t=>t.activeEvent,D=t=>t.events,x=(t,e)=>{t.activeEvent=e},q=(t,e)=>{e.map(t=>{t.data=JSON.parse(t.data),t.data.date=new Date(t.data.date),t.onDays=JSON.parse(t.onDays)}),t.events=e},E=(t,e)=>{e.data=JSON.parse(e.data),e.onDays=JSON.parse(e.onDays),e.data.date=new Date(e.data.date),t.events.unshift(e)},S=({commit:t},e)=>t("activeEvent_",e),O=({commit:t},e)=>t("events_",e),j=({commit:t},e)=>t("pushEvents_",e);var k={namespaced:!1,state:w,getters:a,mutations:r,actions:o};c["a"].use(b["a"]);var C=function(){const t=new b["a"].Store({modules:{events:k},strict:!1});return t},$=n("8c4f");n("e6cf");const P=[{path:"/",component:()=>n.e(2).then(n.bind(null,"713b")),children:[{path:"",component:()=>n.e(4).then(n.bind(null,"8b24"))}]},{path:"*",component:()=>n.e(3).then(n.bind(null,"e51e"))}];var T=P;c["a"].use($["a"]);var M=function(){const t=new $["a"]({scrollBehavior:()=>({x:0,y:0}),routes:T,mode:"history",base:"/"});return t},N=function(){return J.apply(this,arguments)};function J(){return J=i()((function*(){const t="function"===typeof C?yield C({Vue:c["a"]}):C,e="function"===typeof M?yield M({Vue:c["a"],store:t}):M;t.$router=e;const n={router:e,store:t,render:t=>t(g),el:"#q-app"};return{app:n,store:t,router:e}})),J.apply(this,arguments)}var L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[0===t.event.data.length?n("div",{staticClass:"flex flex-center",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:" bg-grey-3",staticStyle:{"border-radius":"3px",padding:"10px"}},[n("span",{staticClass:"text-grey-8"},[n("q-btn",{attrs:{round:"",flat:"",color:"grey-7",icon:"donut_large"}}),t._v("\n          no selected data\n        ")],1)])]):n("div",[n("div",{staticStyle:{margin:"10px"}},[n("div",{},[n("span",{staticClass:"text-h4"},[t._v("\n          "+t._s(this.activeSelections)+"\n        ")])]),n("q-scroll-area",{staticStyle:{height:"80vh","max-width":"100%"}},[n("q-list",{attrs:{padding:""}},t._l(t.event.data,(function(e){return n("q-item",{attrs:{active:e.selected,"active-class":"bg-grey-5 "}},[n("q-item-section",{attrs:{avatar:""}},[n("q-btn",{attrs:{round:"",color:"accent",label:e.day}})],1),e.selected?n("q-item-section",[n("q-item-label",[t._v(" "+t._s(t.switchDays(e.weekday)))]),n("q-item-label",{attrs:{caption:""}},[t._v("\n                    "+t._s(t.event.name)+"\n                ")])],1):n("q-item-section",[t._v("\n                "+t._s(t.switchDays(e.weekday))+"\n              ")]),n("q-item-section",{attrs:{side:""}},[n("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.getDataDate(e.date)))])],1)],1)})),1)],1)],1)])])},A=[],F=n("ded3"),V=n.n(F),Y={computed:V()(V()({},Object(b["c"])(["activeEvent"])),{},{event(){return this.activeEvent},activeSelections(){let t=this.monthName[new Date(this.event.from).getMonth()]+" "+new Date(this.event.from).getFullYear(),e=this.monthName[new Date(this.event.to).getMonth()]+" "+new Date(this.event.to).getFullYear();return t+" ~ "+e}}),data(){return{monthName:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},methods:{getDataDate(t){return new Date(t).toUTCString()},switchDays(t){switch(t){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}},mounted(){console.log(this.event.data.length)}},U=Y,W=Object(h["a"])(U,L,A,!1,null,null,null),z=W.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:" "},[n("div",{staticClass:"q-gutter-sm  bg-grey-3",staticStyle:{padding:"10px"}},[n("q-input",{attrs:{filled:"",label:"Event Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),n("div",{staticStyle:{display:"flex","justify-content":"space-evenly"}},[n("q-input",{staticClass:"padding-sm",attrs:{filled:"",label:"From",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{model:{value:t.form.from,callback:function(e){t.$set(t.form,"from",e)},expression:"form.from"}},[n("div",{staticClass:"row items-center justify-end"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.form.from,callback:function(e){t.$set(t.form,"from",e)},expression:"form.from"}}),n("q-input",{staticClass:"padding-sm",attrs:{filled:"",label:"To",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{model:{value:t.form.to,callback:function(e){t.$set(t.form,"to",e)},expression:"form.to"}},[n("div",{staticClass:"row items-center justify-end"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.form.to,callback:function(e){t.$set(t.form,"to",e)},expression:"form.to"}})],1),n("q-select",{attrs:{filled:"",multiple:"",options:t.DayOptions,"option-value":"id","option-label":"desc","emit-value":"","map-options":"","use-chips":"","stack-label":"",label:"Pick Days"},model:{value:t.form.onDays,callback:function(e){t.$set(t.form,"onDays",e)},expression:"form.onDays"}}),n("div",{staticClass:"q-gutter-sm",staticStyle:{display:"flex","justify-content":"flex-end"}},[n("q-btn",{attrs:{icon:"save",color:"positive",loading:t.saveLoad},on:{click:t.saveTable}})],1)],1)])},Q=[],R={computed:V()({},Object(b["c"])(["activeEvent"])),data(){return{saveLoad:!1,form:{name:"",from:"2019/02/01",to:"2019/02/30",data:[],onDays:[]},DayOptions:[{id:1,desc:"Mon"},{id:2,desc:"Tue"},{id:3,desc:"Wed"},{id:4,desc:"Thu"},{id:5,desc:"Fri"},{id:6,desc:"Sat"},{id:0,desc:"Sun"}]}},methods:V()(V()({},Object(b["b"])(["_activeEvent","_pushEvents"])),{},{saveTable(){this.saveLoad=!0,this.loadTable(),this.$axios.post("events",this.form).then(t=>{this._pushEvents(t.data),this.notify("saved!","positive"),this.saveLoad=!1}).catch(t=>{this.saveLoad=!1,this.notify(t.response.data.message,"negative","warning")})},loadTable(){this.form.data=this.getDates(new Date(this.form.from),new Date(this.form.to)),this._activeEvent(this.form)},calcDate(t,e){const n=Math.abs(e-t),a=Math.ceil(n/864e5);return a},notify(t,e,n="thumb_up"){this.$q.notify({position:"top-right",message:t,color:e,icon:n})},getDates(t,e){var n=new Array,a=t;while(a<=e){var r=!1;let t=new Date(a);this.form.onDays.includes(t.getDay())&&(r=!0),n.push({date:t,weekday:t.getDay(),day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),selected:r}),a=a.addDays(1)}return n}}),created(){Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e}}},G=R,H=Object(h["a"])(G,B,Q,!1,null,null,null),I=H.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"text-grey text-h6"},[n("q-icon",{attrs:{name:"event"}}),t._v("\n\t\t\tEvents\n\t\t")],1),n("q-scroll-area",{staticStyle:{height:"40vh","min-width":"100%","min-height":"40vh"}},[n("q-inner-loading",{attrs:{showing:t.loading}},[n("q-spinner-bars",{attrs:{size:"50px",color:"accent"}})],1),n("q-list",{attrs:{padding:""}},t._l(t.events,(function(e){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"bg-grey-5 "},on:{click:function(n){return t._activeEvent(e)}}},[n("q-item-section",{staticClass:"text-grey-8"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"         \t\n          ")]),n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"primary",name:"play_circle_outline"}})],1)],1)})),1)],1)],1)},X=[],Z={computed:V()({},Object(b["c"])(["events"])),data(){return{loading:!1}},methods:V()(V()({},Object(b["b"])(["_events","_activeEvent"])),{},{getEvents(){this.loading=!0,this.$axios.get("events").then(t=>{this._events(t.data),this.loading=!1}).catch(t=>{this.loading=!1,this.notify("failed to retrieve events","negative","warning")})},notify(t,e,n="thumb_up"){this.$q.notify({position:"top-right",message:t,color:e,icon:n})}}),mounted(){this.getEvents()}},tt=Z,et=Object(h["a"])(tt,K,X,!1,null,null,null),nt=et.exports,at=function(){var t=i()((function*({app:t,router:e,Vue:n}){n.component("base-table",z),n.component("form-inputs",I),n.component("event-list",nt)}));return function(e){return t.apply(this,arguments)}}(),rt=n("a925"),ot={failed:"Action failed",success:"Action was successful"},st={"en-us":ot};c["a"].use(rt["a"]);const it=new rt["a"]({locale:"en-us",fallbackLocale:"en-us",messages:st});var ct=({app:t})=>{t.i18n=it},lt=n("bc3a"),ut=n.n(lt);c["a"].prototype.$axios=ut.a,c["a"].prototype.$axios.defaults.baseURL="http://localhost:8000/api";const dt="/";function pt(){return ft.apply(this,arguments)}function ft(){return ft=i()((function*(){const{app:t,store:e,router:n}=yield N();let a=!1;const r=t=>{a=!0;const e=Object(t)===t?n.resolve(t).route.fullPath:t;window.location.href=e},o=window.location.href.replace(window.location.origin,""),s=[at,ct,void 0];for(let l=0;!1===a&&l<s.length;l++)if("function"===typeof s[l])try{yield s[l]({app:t,router:n,store:e,Vue:c["a"],ssrContext:null,redirect:r,urlPath:o,publicPath:dt})}catch(i){return i&&i.url?void(window.location.href=i.url):void console.error("[Quasar] boot error:",i)}!0!==a&&new c["a"](t)})),ft.apply(this,arguments)}pt()},"5b0d":function(t,e,n){}});